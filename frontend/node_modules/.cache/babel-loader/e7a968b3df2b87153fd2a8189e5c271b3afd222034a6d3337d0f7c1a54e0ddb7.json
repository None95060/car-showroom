{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\code 1\\\\frontend\\\\src\\\\Favorites.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CarCard from './CarCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Favorites = () => {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  const [cars, setCars] = useState([]);\n  useEffect(() => {\n    const loadFavorites = () => {\n      const savedFavorites = JSON.parse(localStorage.getItem('favorites') || '[]');\n      setFavorites(savedFavorites);\n    };\n\n    // Load favorites initially\n    loadFavorites();\n\n    // Listen for localStorage changes\n    const handleStorageChange = e => {\n      if (e.key === 'favorites') {\n        loadFavorites();\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n\n    // Fetch all cars\n    fetch('/api/cars').then(res => {\n      if (!res.ok) {\n        throw new Error('Failed to fetch cars');\n      }\n      return res.json();\n    }).then(data => setCars(data)).catch(err => {\n      console.error('Error fetching cars:', err);\n      // Fallback to empty array or mock data if needed\n      setCars([]);\n    });\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n  const favoriteCars = cars.filter(car => favorites.includes(car.id));\n  const removeFavorite = carId => {\n    const newFavorites = favorites.filter(id => id !== carId);\n    setFavorites(newFavorites);\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"My Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), favoriteCars.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl mb-4\",\n        children: \"\\u2764\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-700 mb-2\",\n        children: \"No favorites yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Start browsing cars and add them to your favorites!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: favoriteCars.map(car => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(CarCard, {\n          car: car\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeFavorite(car.id),\n          className: \"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors\",\n          title: \"Remove from favorites\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)]\n      }, car.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Favorites, \"QBhaZKLE8sqP+Eatg7GrjObfL08=\");\n_c = Favorites;\nexport default Favorites;\nvar _c;\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["React","useState","useEffect","CarCard","jsxDEV","_jsxDEV","Favorites","_s","favorites","setFavorites","cars","setCars","loadFavorites","savedFavorites","JSON","parse","localStorage","getItem","handleStorageChange","e","key","window","addEventListener","fetch","then","res","ok","Error","json","data","catch","err","console","error","removeEventListener","favoriteCars","filter","car","includes","id","removeFavorite","carId","newFavorites","setItem","stringify","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","title","fill","viewBox","fillRule","d","clipRule","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/code 1/frontend/src/Favorites.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CarCard from './CarCard';\r\n\r\nconst Favorites = () => {\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [cars, setCars] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadFavorites = () => {\r\n      const savedFavorites = JSON.parse(localStorage.getItem('favorites') || '[]');\r\n      setFavorites(savedFavorites);\r\n    };\r\n\r\n    // Load favorites initially\r\n    loadFavorites();\r\n\r\n    // Listen for localStorage changes\r\n    const handleStorageChange = (e) => {\r\n      if (e.key === 'favorites') {\r\n        loadFavorites();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    // Fetch all cars\r\n    fetch('/api/cars')\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          throw new Error('Failed to fetch cars');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => setCars(data))\r\n      .catch(err => {\r\n        console.error('Error fetching cars:', err);\r\n        // Fallback to empty array or mock data if needed\r\n        setCars([]);\r\n      });\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  const favoriteCars = cars.filter(car => favorites.includes(car.id));\r\n\r\n  const removeFavorite = (carId) => {\r\n    const newFavorites = favorites.filter(id => id !== carId);\r\n    setFavorites(newFavorites);\r\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-3xl font-bold mb-6\">My Favorites</h1>\r\n\r\n      {favoriteCars.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"text-6xl mb-4\">❤️</div>\r\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-2\">No favorites yet</h2>\r\n          <p className=\"text-gray-500\">Start browsing cars and add them to your favorites!</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {favoriteCars.map(car => (\r\n            <div key={car.id} className=\"relative\">\r\n              <CarCard car={car} />\r\n              <button\r\n                onClick={() => removeFavorite(car.id)}\r\n                className=\"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors\"\r\n                title=\"Remove from favorites\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorites;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}